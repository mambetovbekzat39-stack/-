"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const predictor_js_1 = require("../predictor.js");
class BaseDecoder {
    constructor(parameters) {
        this.parameters = parameters;
    }
    /**
     * @abstract
     */
    decodeBlock(_buffer) {
        throw new Error('decodeBlock not implemented');
    }
    async decode(buffer) {
        const decoded = await this.decodeBlock(buffer);
        const { tileWidth, tileHeight, predictor, bitsPerSample, planarConfiguration, } = this.parameters;
        if (predictor !== 1) {
            return (0, predictor_js_1.applyPredictor)(decoded, predictor, tileWidth, tileHeight, bitsPerSample, planarConfiguration);
        }
        return decoded;
    }
}
exports.default = BaseDecoder;
//# sourceMappingURL=basedecoder.js.map